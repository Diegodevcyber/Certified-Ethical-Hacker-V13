<div _ngcontent-ng-c2673589256="" inline-copy-host="" class="markdown markdown-main-panel stronger enable-updated-hr-color" id="model-response-message-contentr_5edc79b4771c6fc8" aria-live="polite" aria-busy="false" dir="ltr" style="--animation-duration: 400ms; --fade-animation-function: linear;"><h1 data-path-to-node="0">üìö M√≥dulo 11: Sequestro de Sess√£o (Session Hijacking) - Guia de Laborat√≥rio</h1><hr data-path-to-node="1"><h2 data-path-to-node="2">1. Vis√£o Geral e Conceito Fundamental</h2><p data-path-to-node="3"><b>Sequestro de Sess√£o</b> (<i>Session Hijacking</i>) √© um tipo de ataque em que um atacante assume o controlo da <b>sess√£o</b> de um utilizador leg√≠timo numa aplica√ß√£o web ou servidor de rede, ap√≥s a autentica√ß√£o inicial ter sido conclu√≠da.</p><ul data-path-to-node="4"><li><p data-path-to-node="4,0,0"><b>O que √© uma Sess√£o?</b> Uma sess√£o √© o per√≠odo de tempo durante o qual um utilizador interage com um servidor web ap√≥s ter efetuado o login com sucesso.</p></li><li><p data-path-to-node="4,1,0"><b>O que √© o ID de Sess√£o?</b> Para manter o estado de um utilizador (ou seja, lembrar quem ele √©) entre m√∫ltiplos pedidos HTTP (que s√£o inerentemente <i>stateless</i>), o servidor atribui um identificador √∫nico, o <b>Session ID</b> (identificador de sess√£o), tipicamente armazenado num <b>cookie</b> de sess√£o.</p></li><li><p data-path-to-node="4,2,0"><b>Objetivo do Ataque:</b> O atacante rouba este Session ID v√°lido e ativo para se fazer passar pelo utilizador e obter acesso n√£o autorizado aos seus dados ou funcionalidades sem necessitar da palavra-passe.</p></li></ul><hr data-path-to-node="5"><h2 data-path-to-node="6">2. T√©cnicas Comuns de Session Hijacking</h2><p data-path-to-node="7">Os ataques de sequestro de sess√£o variam consoante o m√©todo utilizado para obter ou manipular o Session ID.</p><div class="horizontal-scroll-wrapper"><div class="table-block-component"><response-element class="" ng-version="0.0.0-PLACEHOLDER"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><table-block _nghost-ng-c984690523="" class="ng-star-inserted"><div _ngcontent-ng-c984690523="" class="table-block has-export-button"><div _ngcontent-ng-c984690523="" not-end-of-paragraph="" class="table-content not-end-of-paragraph" jslog="275421;track:impression,attention" data-hveid="0" decode-data-ved="1" data-ved="0CAAQ3ecQahgKEwiGw7zijJ-RAxUAAAAAHQAAAAAQrhE"><table data-path-to-node="8"><thead><tr><td><span data-path-to-node="8,0,0,0">T√©cnica</span></td><td><span data-path-to-node="8,0,1,0">Descri√ß√£o</span></td></tr></thead><tbody><tr><td><span data-path-to-node="8,1,0,0"><b>Session Side-jacking</b></span></td><td><span data-path-to-node="8,1,1,0">O atacante <b>interceta</b> o Session ID (geralmente em cookies) transmitido atrav√©s de uma rede <b>n√£o encriptada</b> (HTTP) usando ferramentas de <i>sniffing</i> de rede (como Wireshark ou proxies, tal como Hetty mencionado no laborat√≥rio).</span></td></tr><tr><td><span data-path-to-node="8,2,0,0"><b>Session Fixation</b></span></td><td><span data-path-to-node="8,2,1,0">O atacante for√ßa a v√≠tima a usar um Session ID conhecido (fixo) antes mesmo de a v√≠tima fazer login. Quando a v√≠tima se autentica, o atacante usa esse ID pr√©-determinado para assumir a sess√£o.</span></td></tr><tr><td><span data-path-to-node="8,3,0,0"><b>Cross-Site Scripting (XSS)</b></span></td><td><span data-path-to-node="8,3,1,0">O atacante injeta c√≥digo malicioso (geralmente JavaScript) num website vulner√°vel. Esse c√≥digo √© executado no navegador da v√≠tima e rouba o cookie de sess√£o, enviando-o para o atacante.</span></td></tr><tr><td><span data-path-to-node="8,4,0,0"><b>Token Prediction/Brute Forcing</b></span></td><td><span data-path-to-node="8,4,1,0">O atacante tenta adivinhar ou prever o Session ID, explorando algoritmos fracos ou sequenciais usados para a gera√ß√£o dos identificadores.</span></td></tr></tbody></table></div><div _ngcontent-ng-c984690523="" hide-from-message-actions="" class="table-footer hide-from-message-actions ng-star-inserted"><button _ngcontent-ng-c984690523="" mat-button="" class="mdc-button mat-mdc-button-base export-sheets-button-container mat-mdc-button mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" jslog="184701;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_5edc79b4771c6fc8&quot;,&quot;c_d821f286710ba78c&quot;,null,null,null,null,null,null,1,null,null,null,0]]"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"><span _ngcontent-ng-c984690523="" class="export-sheets-button"><span _ngcontent-ng-c984690523="" class="export-sheets-icon"><mat-icon _ngcontent-ng-c984690523="" role="img" fonticon="drive_spreadsheet" class="mat-icon notranslate google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="drive_spreadsheet"></mat-icon></span><span _ngcontent-ng-c984690523="">Exportar para as Planilhas</span></span></span><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><button _ngcontent-ng-c984690523="" mat-icon-button="" mattooltip="Copiar tabela" aria-label="Copiar tabela" data-test-id="copy-table-button" class="mdc-icon-button mat-mdc-icon-button mat-mdc-button-base mat-mdc-tooltip-trigger copy-button mat-unthemed ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" jslog="276666;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_5edc79b4771c6fc8&quot;,&quot;c_d821f286710ba78c&quot;,null,null,null,null,null,null,1,null,null,null,0]]"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c984690523="" role="img" fonticon="content_copy" class="mat-icon notranslate gds-icon-l google-symbols mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="content_copy"></mat-icon><span class="mat-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----><!----></div><!----></div><!----></table-block><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></response-element></div></div><hr data-path-to-node="9"><h2 data-path-to-node="10">3. Tarefas de Laborat√≥rio: Sniffing e Roubo de Credenciais</h2><p data-path-to-node="11">No contexto de testes de penetra√ß√£o, o objetivo √© demonstrar como o <b>sniffing</b> da rede ou o uso de proxies pode expor informa√ß√µes sens√≠veis.</p><ul data-path-to-node="12"><li><p data-path-to-node="12,0,0"><b>Ferramenta T√≠pica de Laborat√≥rio:</b> Um <b>Proxy Intercetor</b> como <b>Hetty</b> ou Burp Suite.</p></li><li><p data-path-to-node="12,1,0"><b>A√ß√£o Pr√°tica (Exemplo CEH):</b> Um <i>pen tester</i> configura o proxy para intercetar o tr√°fego entre a m√°quina cliente (v√≠tima) e o servidor web (ex: <code>http://www.moviescope.com</code>).</p></li><li><p data-path-to-node="12,2,0"><b>Roubo de Credenciais:</b> Quando a v√≠tima se autentica, o <i>pen tester</i> inspeciona os pacotes intercetados. Numa requisi√ß√£o <b>POST</b> de login que n√£o usa HTTPS (ou numa sess√£o ap√≥s o login), o atacante pode observar:</p><ul data-path-to-node="12,2,1"><li><p data-path-to-node="12,2,1,0,0"><b>Credenciais de Login:</b> O nome de utilizador e a palavra-passe podem ser vis√≠veis na sec√ß√£o <b>Body</b> do pedido HTTP.</p></li><li><p data-path-to-node="12,2,1,1,0"><b>Session ID/Token:</b> O atacante pode capturar os cookies, incluindo o Session ID, que √© a chave para o sequestro de sess√£o.</p></li></ul></li></ul><hr data-path-to-node="13"><h2 data-path-to-node="14">4. Contramedidas e Defesas (Countermeasures)</h2><p data-path-to-node="15">A preven√ß√£o do sequestro de sess√£o √© focada na prote√ß√£o do Session ID.</p><ol start="1" data-path-to-node="16"><li><p data-path-to-node="16,0,0"><b>Imposi√ß√£o de HTTPS (TLS/SSL):</b></p><ul data-path-to-node="16,0,1"><li><p data-path-to-node="16,0,1,0,0">A medida mais crucial √© usar <b>HTTPS</b> para encriptar todo o tr√°fego. Isto impede o <i>Session Side-jacking</i> em redes Wi-Fi n√£o seguras, tornando o tr√°fego (incluindo cookies) ileg√≠vel para um atacante.</p></li></ul></li><li><p data-path-to-node="16,1,0"><b>Atributos de Cookie Seguros:</b></p><ul data-path-to-node="16,1,1"><li><p data-path-to-node="16,1,1,0,0"><b><code>Secure</code> Flag:</b> Garante que o cookie s√≥ √© enviado em conex√µes <b>HTTPS</b> encriptadas.</p></li><li><p data-path-to-node="16,1,1,1,0"><b><code>HttpOnly</code> Flag:</b> Impede que scripts do lado do cliente (como JavaScript) acedam ao cookie de sess√£o, mitigando o risco de XSS.</p></li><li><p data-path-to-node="16,1,1,2,0"><b><code>SameSite</code> Attribute:</b> Impede que o navegador envie o cookie com pedidos de <i>cross-site</i>, ajudando a prevenir CSRF e ataques de <i>Session Fixation</i>.</p></li></ul></li><li><p data-path-to-node="16,2,0"><b>Gest√£o de Sess√µes:</b></p><ul data-path-to-node="16,2,1"><li><p data-path-to-node="16,2,1,0,0"><b>Renova√ß√£o de Sess√£o:</b> O servidor deve <b>regenerar</b> o Session ID ap√≥s um login bem-sucedido ou quando o n√≠vel de privil√©gio do utilizador muda. Isto invalida qualquer Session ID antigo ou fixo que o atacante possa ter obtido.</p></li><li><p data-path-to-node="16,2,1,1,0"><b>Timeout:</b> As sess√µes ativas devem ter um tempo limite (expiry time) curto e ser terminadas ap√≥s um per√≠odo de inatividade.</p></li><li><p data-path-to-node="16,2,1,2,0"><b>Robustez do ID:</b> Usar algoritmos de gera√ß√£o de Session ID longos e complexos, com alta entropia (aleatoriedade), para impedir a adivinha√ß√£o (<i>prediction</i>).</p></li></ul></li><li><p data-path-to-node="16,3,0"><b>Monitoriza√ß√£o:</b></p><ul data-path-to-node="16,3,1"><li><p data-path-to-node="16,3,1,0,0">Monitorizar endere√ßos IP de origem e agentes de utilizador (User-Agents) associados a uma sess√£o. Se estes mudarem drasticamente durante uma sess√£o, pode ser um indicador de sequestro.</p></li></ul></li></ol></div>